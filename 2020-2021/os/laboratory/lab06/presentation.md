---
## Front matter
lang: ru-RU
title: Лабораторная работа №6
author: |
	Бондарь Алексей Олегович НПМбд-01-20\inst{1}
institute: |
	\inst{1}RUDN University, Moscow, Russian Federation
	
date:  10 мая, 2021, Москва, Россия

## Formatting
toc: false
slide_level: 2
theme: metropolis
header-includes: 
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
 - '\makeatletter'
 - '\beamer@ignorenonframefalse'
 - '\makeatother'
aspectratio: 43
section-titles: true
---

# Цель работы

Ознакомление с файловой системой Linux, её структурой, именами и содержанием каталогов. Приобретение практических навыков по  применению  команд  для  работы  с  файлами  и  каталогами,  по управлению процессами (и работами), по проверке использования диска и обслуживанию файловой системы.


## Выполнение лабораторной работы

1)Для начала выполним примеры, описанные в первой части описания лабораторнойработы.(рис. -@fig:001):

1. Скопируем  файл  ~/abc1  в  файл  april и  в  файл may.  Для  этого создадим  файл abc1,  используя  команду  «touchabc1»,  далее осуществим копирование с помощью команд «cpabc1 april» и «cpabc1 may».

2. Скопируем файлы april и may в каталогmonthly, используя команды «mkdirmonthly»  −  для  создания  каталога monthlyи  «cpaprilmaymonthly» − для копирования.

3. Скопируем  файл  monthly/may  в  файл  с  именем  june.  Выполнимкоманды«cpmonthly/maymonthly/june»и«lsmonthly» (для просмотра содержимого каталога).

4. Скопируем каталог monthly в каталог monthly.00. Для этого создадим каталог monthly.00 командой  «mkdirmonthly.00»и  осуществим копирование, используя команду «cp-rmonthlymonthly.00»(команда cp  с  опцией  r  (recursive)  позволяет  копировать  каталоги  вместе  с входящими в них файлами и каталогами).

5. Скопируем каталог monthly.00 в каталог /tmp, используя команду «cp -r monthly.00 /tmp».

## Выполнение лабораторной работы

![1](image/1.png){ #fig:001 width=70% }

## Выполнение лабораторной работы

(рис. -@fig:002):

1. Изменим  название  файла  april на  july  в  домашнем  каталоге, используя команду «mv april july».

2. Переместим  файл  july  в  каталог  monthly.00  с  помощью  команды «mvjulymonthly.00». Проверим результат командой «lsmonthly.00».

3. Переименуем  каталог monthly.00  в  monthly.01,  используя  команду «mv monthly.00 monthly.01».

4. Переместим каталог  monthly.01в  каталог  reports.  Для  этого создадим  каталог reportsс  помощью  команды  «mkdir  reports»  и выполним перемещение командой «mv monthly.01 reports».

5. Переименуемкаталогreports/monthly.01 вreports/monthly командой «mv reports/monthly.01 reports/monthly»

## Выполнение лабораторной работы

![2](image/2.png){ #fig:002 width=70% }

## Выполнение лабораторной работы

(рис. -@fig:003) и (рис. -@fig:004)

1.  Создадим файл  ~/may  с  правом  выполнения  для  владельца.  Для этого выполним следующие команды:«touch may» (создание файла), «ls-lmay» (просмотр сведений о файле), «chmod u+x may» (изменение прав), «ls -l may»

2. Лишаем владельца файла  ~/may  права  на  выполнение,  используя команды:  «chmod  u-x  may»  (изменение  прав),  «ls -l  may»  (просмотр сведений о файле).

3. Создаем каталог monthly с запретом на чтение для членов группы и всех остальных пользователей. Выполняем команды: «mkdir  monthly»(создание каталога), «chmod go -r monthly»(изменение прав).

4. Создаем файл ~/abc1 с правом записи для членов группы, используя команды:  «touch abc1»  (создание  файла),  «chmod g+w abc1» (изменение прав).

## Выполнение лабораторной работы

![3](image/3.png){ #fig:003 width=70% }

## Выполнение лабораторной работы

![4](image/4.png){ #fig:004 width=70% }

## Выполнение лабораторной работы

2)Выполняем следующие действия, отображенные на (рис. -@fig:005) и (рис. -@fig:006) :

1. Копируем файл/usr/include/aio.h(т.к.  у  меня  нет  каталога /usr/include/sys/,   то   беру   произвольный   файл   из   каталога /usr/include/)вдомашнийкаталог(команда«cp/usr/include/aio.h~») и назоваем его equipment(команда «mv aio.h equipment»).

2. В  домашнем  каталоге  создаем директорию  ~/ski.plases(команда «mkdir ski.plases»). 

3. Перемещаем файл  equipment  в  каталог  ~/ski.plases(команда  «mv equipment ski.plases»). 

4. Переименовываем файл ~/ski.plases/equipment в ~/ski.plases/equiplist(команда«mvski.plases/equipment ski.plases/equiplist»). 

5. Создаем в домашнем каталоге файл abc1(команда«touchabc1») и копируем его в каталог ~/ski.plases(команда «cp abc1 ski.plases»), называем его equiplist2(команда «mv ski.plases/abc1 ski.plases/equiplist2»). 

6. Создаем каталог с именем equipment в каталоге ~/ski.plases(команда «mkdir ski.plases/equipment»). 

7. Перемещаем файлы ~/ski.plases/equiplist и equiplist2 в каталог ~/ski.plases/equipment (команда «mv ski.plases/equiplist ski.plases/equiplist2 ski.plases/equipment»).

8. Создаем(команда«mkdir newdir») и перемещаем каталог ~/newdir в каталог ~/ski.plases (команда «mv newdir ski.plases») и называем его plans(команда «mv ski.plases/newdir ski.plases/plans»). 

## Выполнение лабораторной работы

![5](image/5.png){ #fig:005 width=70% }

## Выполнение лабораторной работы

![6](image/6.png){ #fig:006 width=70% }

## Выполнение лабораторной работы

3)Определяем опции  команды chmod,  необходимые  для  того,  чтобы присвоить  соответствующимфайлам  выделенные  права  доступа, считая,  что  в  начале  таких  прав  нет.  Предварительно  создаем необходимые файлы,  используя  команды: «mkdir australia»,  «mkdir play», «touch my_os», «touch feathers».(рис. -@fig:007)

## Выполнение лабораторной работы

![7](image/7.png){ #fig:007 width=70% }

## Выполнение лабораторной работы

(рис. -@fig:008):

drwxr--r--... australia: команда«chmod 744 australia» (это каталог, владелец  имеет  право  на  чтение,  запись  и  выполнение, группа владельца и остальные –только чтение).
drwx--x--x   ...   play: команда«chmod 711 play»(это  каталог, владелец  имеет  право  на  чтение,  запись  и  выполнение,  группа владельца и остальные –только выполнение).
-r-xr--r--... my _ os: команды«chmod 544 my_os»(это  файл, владелецимеет право на чтение и выполнение, группа владельца и остальные –только чтение).
-rw-rw-r--... feathers: команды «chmod 664 feathers»(это файл, владелец и группа владельца имеют право на чтение и запись, остальные –только чтение).
Командой  «ls -l»  проверяем  правильность  выполненныхдействий.

## Выполнение лабораторной работы
 
![8](image/8.png){ #fig:008 width=70% }

## Выполнение лабораторной работы

4)Выполняем следующие действия, отображенные на (рис. -@fig:009) и (рис. -@fig:010):

1. Просмотримсодержимое   файла   /etc/passwd   (команда   «cat/etc/passwd»).

2. Копируемфайл  ~/feathers  в  файл  ~/file.old(команда «cp feathers file.old»). 

3. Переместимфайл  ~/file.old  в  каталог  ~/play(команда  «mv file.old play»). 

4. Скопируемкаталог ~/play в каталог ~/fun(команда «cp -r play fun»). 

5. Переместимкаталог ~/fun в каталог ~/play(команда «mv funplay»)и назовемего games(команда «mv play/fun play/games»). 

6. Лишимвладельца файла ~/feathers права на чтение(команда «chmod u-r feathers»). 

7. Если мыпопытаемсяпросмотреть файл ~/feathers командой cat, то получим  отказ  в  доступе,  т.к.  в  предыдущем пунктелишили владельца права на чтение данного файла.

8. Если  мы  попытаемся  скопировать  файл  ~/feathers,  например,  в каталог monthly,  то  получим  отказ  вдоступе, по  причине, описанной в предыдущем пункте.

9. Дадим владельцу файла ~/feathers право на чтение (команда «chmod u+r feathers»).

10. Лишим владельца  каталога  ~/play  права  на  выполнение(команда «chmodu-xplay»). 

11. Перейдем в  каталог  ~/play(команда  «cd play»).  Получим  отказ  в доступе,  т.к.  в  предыдущем  пункте  лишили  владельца  права  на выполнение данного каталога.

12. Дадим владельцу  каталога  ~/play  право  на  выполнение(команда «chmodu+xplay»)

## Выполнение лабораторной работы

![9](image/9.png){ #fig:009 width=70% }

## Выполнение лабораторной работы

![10](image/10.png){ #fig:010 width=70% }

## Выполнение лабораторной работы

5)Используя команды «man mount», «man fsck»,«man mkfs»,«man kill», получим  информацию  о  соответствующих командах ((рис. -@fig:011),  (рис. -@fig:012), (рис. -@fig:013), (рис. -@fig:014)).

## Выполнение лабораторной работы

- Команда mount:предназначена  для  монтирования  файловой  системы. Все  файлы, доступные  в  Unix  системах,  составляют  иерархическую  файловую структуру, котораяимеет  ветки  (каталоги)  и  листья  (файлы  в каталогах). Корень этого дерева обозначается как /. Физически файлы могут располагаться на различных устройствах. Команда mount служит для  подключения  файловых  систем  разных  устройств  к  этому большому дереву.Наиболее  часто  встречающаяся  форма  команды mount выглядит следующим образом:«mount -t vfstype device dir»Такая команда предлагает ядру смонтировать (подключить) файловую систему указанного типа vfstype, расположенную на устройстве device, к заданному каталог у dir,   который   часто   называют   точкой монтирования.

## Выполнение лабораторной работы

![11](image/11.png){ #fig:011 width=70% }

## Выполнение лабораторной работы

- Команда fsck:это утилита командной строки, которая позволяет выполнять проверки согласованности  и  интерактивное  исправление  в  одной  или нескольких  файловых  системах  Linux.Он  использует  программы, специфичные для типа файловой системы, которую он проверяет.У командыfsckследующий синтаксис:fsck [параметр] --[параметры ФС] [<файловая система> . . .] Например, если нужно восстановить («починить») файловую систему на некотором устройстве /dev/sdb2, следует воспользоваться командой:«sudo fsck -y /dev/sdb2» Опция -y необходима, т.к. при её отсутствии придётся слишком часто давать подтверждение.

## Выполнение лабораторной работы

![12](image/12.png){ #fig:012 width=70% }

## Выполнение лабораторной работы

- Команда mkfs:создаёт новую файловую систему Linux. Имеетследующийсинтаксис:mkfs[-V] [-tfstype] [fs-options] filesys[blocks]mkfsиспользуется  для  создания  файловой  системы  Linux  на некотором устройстве, обычно в разделе жёсткого диска. В качестве аргументаfilesysдля  файловой  системы  может  выступать  или название  устройства  (например,/dev/hda1,/dev/sdb2)  или  точка монтирования (например,/,/usr,/home). Аргументомblocksуказывается    количество    блоков,    которые выделяются для использования этой файловой системой.По окончании работы mkfs возвращает 0 -в случае успеха, а 1 -при неудачной операции. Например, команда «mkfs -t ext2 /dev/hdb1» создаёт файловую систему типаext2в разделе/dev/hdb1(второй жёсткий диск).

## Выполнение лабораторной работы

![13](image/13.png){ #fig:013 width=70% }

## Выполнение лабораторной работы

- Команда kill:посылает сигнал процессу или выводит список допустимых сигналов.Имеет следующий синтаксис: kill[опции] PID, где PID–это  PID  (числовой  идентификатор) процесса или несколько PIDпроцессов, если требуется послать сигнал сразу нескольким процессам.Например, команда «kill -KILL 3121» посылает сигнал KILL процессу с PID 3121, чтобы принудительно завершить процесс.

## Выполнение лабораторной работы

![14](image/14.png){ #fig:014 width=70% }


## Выводы

В ходе выполнения данной лабораторной работы я ознакомился  файловой  системой  Linux,  её  структурой,  именами  и  содержанием каталогов,  получила  навыкипо  применению  команд  для  работы  с файлами  и  каталогами,  по  управлению  процессами  (и  работами),  по проверке использования диска и обслуживанию файловой системы.

